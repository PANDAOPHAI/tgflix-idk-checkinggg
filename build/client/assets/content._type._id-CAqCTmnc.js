import{w as D,z as P,a as c,p as e}from"./chunk-JMJ3UQ3L-DY0ygI11.js";import{H as v,S as G}from"./header-D-CwGV9i.js";import{c as d}from"./index-BG4RV-HE.js";const M=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],N=d("arrow-left",M);const R=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],W=d("calendar",R);const A=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],H=d("chevron-down",A);const F=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],L=d("clock",F);const U=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],q=d("play",U),O="6fca14f0",V="http://www.omdbapi.com/";async function K(o,i){try{const r=await(await fetch(`${V}?apikey=${O}&i=${o}&Season=${i}`)).json();return r.Response==="True"&&r.Episodes?r.Episodes:[]}catch(t){return console.error("Error fetching season details:",t),[]}}const Y="_container_inbza_1",J="_hero_inbza_6",Q="_backdrop_inbza_13",X="_overlay_inbza_21",Z="_main_inbza_27",ee="_content_inbza_35",se="_poster_inbza_42",ae="_posterImage_inbza_50",ne="_details_inbza_56",te="_title_inbza_62",oe="_metadata_inbza_69",ie="_badge_inbza_76",ce="_year_inbza_86",re="_rating_inbza_91",le="_ratingIcon_inbza_99",de="_description_inbza_104",pe="_genres_inbza_111",_e="_genre_inbza_111",me="_actions_inbza_126",he="_watchButton_inbza_132",be="_buttonIcon_inbza_172",ue="_icon_inbza_177",ye="_runtime_inbza_182",xe="_info_inbza_190",ve="_playerContainer_inbza_201",Ne="_playerHeader_inbza_207",je="_playerInfo_inbza_215",ge="_backToDetails_inbza_219",ze="_playerTitle_inbza_237",fe="_controls_inbza_243",Se="_controlGroup_inbza_255",ke="_label_inbza_261",Ie="_serverButtons_inbza_266",Ee="_serverButton_inbza_266",$e="_active_inbza_288",we="_episodeControls_inbza_294",Be="_selectWrapper_inbza_302",Ce="_select_inbza_302",Te="_selectIcon_inbza_323",De="_episodeGrid_inbza_334",Pe="_episodeButton_inbza_342",Ge="_loading_inbza_365",Me="_noEpisodes_inbza_372",Re="_playerWrapper_inbza_379",We="_player_inbza_201",Ae="_notFound_inbza_400",He="_backButton_inbza_415",s={container:Y,hero:J,backdrop:Q,overlay:X,main:Z,content:ee,poster:se,posterImage:ae,details:ne,title:te,metadata:oe,badge:ie,year:ce,rating:re,ratingIcon:le,description:de,genres:pe,genre:_e,actions:me,watchButton:he,buttonIcon:be,icon:ue,runtime:ye,info:xe,playerContainer:ve,playerHeader:Ne,playerInfo:je,backToDetails:ge,playerTitle:ze,controls:fe,controlGroup:Se,label:ke,serverButtons:Ie,serverButton:Ee,active:$e,episodeControls:we,selectWrapper:Be,select:Ce,selectIcon:Te,episodeGrid:De,episodeButton:Pe,loading:Ge,noEpisodes:Me,playerWrapper:Re,player:We,notFound:Ae,backButton:He};function qe({params:o}){return[{title:"Movie Details - Movie Hub"},{name:"description",content:"Watch movies and series online"}]}const j=[{id:"2embed",name:"2Embed",url:(o,i,t)=>i&&t?`https://www.2embed.cc/embedtv/${o}&s=${i}&e=${t}`:`https://www.2embed.cc/embed/${o}`},{id:"vidsrc",name:"VidSrc",url:(o,i,t)=>i&&t?`https://vidsrc.xyz/embed/tv?imdb=${o}&season=${i}&episode=${t}`:`https://vidsrc.xyz/embed/movie?imdb=${o}`},{id:"smashystream",name:"SmashyStream",url:(o,i,t)=>i&&t?`https://player.smashy.stream/tv/${o}?s=${i}&e=${t}`:`https://player.smashy.stream/movie/${o}`}],Oe=D(function({loaderData:i,params:t}){const r=P(),{movie:a,initialEpisodes:g}=i,[z,m]=c.useState(!1),[p,f]=c.useState(j[0]),[l,S]=c.useState(1),[_,h]=c.useState(1),[b,k]=c.useState(g),[I,u]=c.useState(!1),y=n=>{r(`/search?q=${encodeURIComponent(n)}`)};c.useEffect(()=>{a?.Type==="series"&&l&&(u(!0),K(t.id||"",l).then(n=>{k(n),h(1)}).finally(()=>u(!1)))},[l,a?.Type,t.id]);const E=()=>{m(!0)},$=n=>{S(n)},w=n=>{h(n)},B=n=>{f(n)},x=()=>a?.Type==="series"?p.url(a.imdbID,l,_):p.url(a?.imdbID||""),C=()=>{m(!1)};return a?e.jsxs("div",{className:s.container,children:[e.jsx(v,{onSearch:y}),z?e.jsxs("div",{className:s.playerContainer,children:[e.jsxs("div",{className:s.playerHeader,children:[e.jsxs("button",{onClick:C,className:s.backToDetails,children:[e.jsx(N,{className:s.icon}),"Back to Details"]}),e.jsx("div",{className:s.playerInfo,children:e.jsxs("h2",{className:s.playerTitle,children:[a.Title,a.Type==="series"&&` - S${l} E${_}`]})})]}),e.jsxs("div",{className:s.controls,children:[e.jsxs("div",{className:s.controlGroup,children:[e.jsx("label",{className:s.label,children:"Server:"}),e.jsx("div",{className:s.serverButtons,children:j.map(n=>e.jsx("button",{className:`${s.serverButton} ${p.id===n.id?s.active:""}`,onClick:()=>B(n),children:n.name},n.id))})]}),a.Type==="series"&&a.totalSeasons&&e.jsxs("div",{className:s.episodeControls,children:[e.jsxs("div",{className:s.controlGroup,children:[e.jsx("label",{className:s.label,children:"Season:"}),e.jsxs("div",{className:s.selectWrapper,children:[e.jsx("select",{value:l,onChange:n=>$(Number(n.target.value)),className:s.select,children:Array.from({length:parseInt(a.totalSeasons)},(n,T)=>T+1).map(n=>e.jsxs("option",{value:n,children:["Season ",n]},n))}),e.jsx(H,{className:s.selectIcon})]})]}),e.jsxs("div",{className:s.controlGroup,children:[e.jsx("label",{className:s.label,children:"Episode:"}),e.jsx("div",{className:s.episodeGrid,children:I?e.jsx("div",{className:s.loading,children:"Loading episodes..."}):b.length>0?b.map(n=>e.jsx("button",{className:`${s.episodeButton} ${_===parseInt(n.Episode)?s.active:""}`,onClick:()=>w(parseInt(n.Episode)),title:n.Title,children:n.Episode},n.Episode)):e.jsx("div",{className:s.noEpisodes,children:"No episodes available"})})]})]})]}),e.jsx("div",{className:s.playerWrapper,children:e.jsx("iframe",{src:x(),className:s.player,frameBorder:"0",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",title:a.Title},x())})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:s.hero,children:[e.jsx("img",{src:a.Poster!=="N/A"?a.Poster:"https://placehold.co/1920x1080/333/999?text=No+Image",alt:"",className:s.backdrop}),e.jsx("div",{className:s.overlay})]}),e.jsx("main",{className:s.main,children:e.jsxs("div",{className:s.content,children:[e.jsx("div",{className:s.poster,children:e.jsx("img",{src:a.Poster!=="N/A"?a.Poster:"https://placehold.co/400x600/333/999?text=No+Poster",alt:a.Title,className:s.posterImage})}),e.jsxs("div",{className:s.details,children:[e.jsx("h1",{className:s.title,children:a.Title}),e.jsxs("div",{className:s.metadata,children:[e.jsx("span",{className:s.badge,children:a.Type==="movie"?"Movie":"Series"}),a.Released&&e.jsxs("span",{className:s.year,children:[e.jsx(W,{className:s.icon}),a.Released]}),a.Runtime&&e.jsxs("span",{className:s.runtime,children:[e.jsx(L,{className:s.icon}),a.Runtime]}),a.imdbRating&&e.jsxs("div",{className:s.rating,children:[e.jsx(G,{className:s.ratingIcon}),"IMDB ",a.imdbRating]})]}),a.Plot&&e.jsx("p",{className:s.description,children:a.Plot}),a.Genre&&e.jsx("div",{className:s.genres,children:a.Genre.split(", ").map(n=>e.jsx("span",{className:s.genre,children:n},n))}),a.Director&&e.jsxs("div",{className:s.info,children:[e.jsx("strong",{children:"Director:"})," ",a.Director]}),a.Actors&&e.jsxs("div",{className:s.info,children:[e.jsx("strong",{children:"Cast:"})," ",a.Actors]}),e.jsx("div",{className:s.actions,children:e.jsxs("button",{className:s.watchButton,onClick:E,children:[e.jsx(q,{className:s.buttonIcon}),"Watch Now"]})})]})]})})]})]}):e.jsxs("div",{className:s.container,children:[e.jsx(v,{onSearch:y}),e.jsxs("div",{className:s.notFound,children:[e.jsx("h1",{children:"Movie not found"}),e.jsxs("button",{onClick:()=>r("/"),className:s.backButton,children:[e.jsx(N,{})," Go Back Home"]})]})]})});export{Oe as default,qe as meta};
